<app-navbar></app-navbar>

<div class="form-bg">
  <div class="container">
    <div class="row d-flex justify-content-center">
      <div class="col">
        <div class="form-container">
          <h3 class="title"> {{ project.name }} </h3>
          <form class="form-horizontal" #form="ngForm" (ngSubmit)="onSubmit(form)">
            <div class="form-group">
              <label>Name</label>
              <input
                name="username"
                type="text"
                class="form-control"
                placeholder="Nome do Projecto"
                [value]="project.name"
                [(ngModel)]="project.name"
              />
            </div>
            <div class="form-group">
              <label>Budget</label>
              <input
                name="password"
                type="number"
                min="0"
                step="0.01"
                class="form-control"
                placeholder="Budget"
                [value]="project.budget"
                [(ngModel)]="project.budget"
              />
            </div>
            <div class="form-group">
              <label>State</label>
              <div class="input-group mb-3">
                <select name="state" class="custom-select" [(ngModel)]="project.state">
                  <option selected>{{ states[project.state] }}</option>
                </select>
              </div>
            </div>
            <span class="signin-link"></span>
            <button class="btn signup">Edit</button>
          </form>
        </div>
      </div>
      <div class="col-md-5">
        <div class="form-container">
          <h3 class="title">Tasks</h3>
            <div class="form-group">
              <table class="table">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Project</th>
                    <th>Programmer</th>
                    <th>State</th>
                    <th>Options</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let task of tasks">
                    <td>
                      <a [routerLink]="['/projects', task.name]">
                        {{ task.name }}
                      </a>
                    </td>
                    <td>
                      <a [routerLink]="['/projects', task.project.id]">
                        {{ task.project.id }}
                      </a>
                    </td>
                    <td>{{ task.programmer.userName }}</td>
                    <td>
                      <span class="badge bg-warning text-dark">
                        {{ task.state }}
                      </span>
                    </td>
                    <td>
                      <a [routerLink]="['/projects', task.deadline]"
                        ><button
                          type="button"
                          class="btn btn-outline-success me-2"
                        >
                          View
                        </button></a
                      >
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <button
            type="button"
            class="btn btn-primary add-new"
            [routerLink]="'/projects'"
          >New Task</button>
        </div>
      </div>
    </div>
  </div>
</div>
